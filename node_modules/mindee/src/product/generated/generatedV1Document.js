"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GeneratedV1Document = void 0;
const generated_1 = require("../../../src/parsing/generated");
const standard_1 = require("../../../src/parsing/standard");
const generatedV1Prediction_1 = require("./generatedV1Prediction");
/**
 * Generated V1 document prediction results.
 */
class GeneratedV1Document extends generatedV1Prediction_1.GeneratedV1Prediction {
    constructor(rawPrediction) {
        super();
        Object.entries(rawPrediction).forEach(([fieldName, fieldValue]) => {
            if (Array.isArray(fieldValue)) {
                this.fields.set(fieldName, new generated_1.GeneratedListField({ prediction: fieldValue }));
            }
            else if (typeof fieldValue === "object" && fieldValue !== null && (0, generated_1.isGeneratedObject)(fieldValue)) {
                this.fields.set(fieldName, new generated_1.GeneratedObjectField({ prediction: fieldValue }));
            }
            else {
                const fieldValueStr = fieldValue;
                if (Object.prototype.hasOwnProperty.call(fieldValueStr, "value") && fieldValueStr["value"] !== null) {
                    fieldValueStr["value"] = fieldValueStr["value"].toString();
                }
                this.fields.set(fieldName, new standard_1.StringField({ prediction: fieldValueStr }));
            }
        });
    }
}
exports.GeneratedV1Document = GeneratedV1Document;
